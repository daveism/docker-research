version: '2'
services:
  nfs:
    build:
      context: .
      dockerfile: DockerNFS
    container_name: nfs
    privileged: true
    hostname: nfs
    tty: true
    command: /exports/data 
    networks:
      net:
        ipv4_address: 10.5.0.3
  r:
    build:
      context: .
      dockerfile: DockerR
    container_name: rserver
    privileged: true
    shm_size: 2G
    stdin_open: true
    command: ["/bin/bash", "-c", "/wait_showmount.sh"]
    networks:
      net:
        ipv4_address: 10.5.0.2
    tty: true

networks:
  net:
    driver: bridge
    ipam:
     config:
       - subnet: 10.5.0.0/16
